<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elfandi Medical - Patient Form</title>
    <link href="styles.css" rel="stylesheet">
    <script src="scripts.js" defer></script>
    <script src="extraredit.js" defer></script>

    <!-- 
    Program name: patient-form.html
    Author: Takwa Elfandi
    Date created: 09/10/2024
    Date last edited: 09/21/2024
    Version 2.1
    Added the Following:
        1. iFram, for medical website, header and footer
        2. add function to save first and last name with greeting in the top
        3. if it is new user, a checkbox to remove the greeting message and ability to add new user info and saved 
    -->

    
    
</head>

<body>
    <!-- Modal for asking to continue with saved data -->
    <div id="continueModal" class="modal">
        <div class="modal-content">
            <span class="close" id="modalClose">&times;</span>
            <p>We noticed you have saved data. Would you like to continue where you left off?</p>
            <button id="continueButton">Yes, continue</button>
            <button id="clearButton">No, start fresh</button>
        </div>
    </div>
      <!-- Personalized Greeting -->
    <h2 id="userGreeting" style="text-align: center; margin-top: 20px;">Welcome to Elfandi Medical!</h2>

    <!-- 'Not You?' Checkbox for Returning Users -->
    <div id="newUserOption" style="text-align: center; display: none; margin-bottom: 20px;">
        <label>
            <input type="checkbox" id="newUserCheckbox"> Not <span id="userNameDisplay"></span>? Click here to start as a new user.
        </label>
    </div>
    <!-- Link to Local Storage -->
        <div style="text-align: center; margin-top: 10px;">
            <a href="extraredit.html" style="color: #004d99; text-decoration: underline; font-size: 1.1em;">Manage Saved Data</a>
        </div>
    

    <!-- Header Section with iFrame -->
    <div style="width: 100%; height: 200px; border-bottom: 1px solid #ccc; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);">
        <iframe 
            src="header.html" 
            width="100%" 
            height="100%" 
            style="border: none;" 
            title="Header Content"></iframe>
    </div>

    <!-- Form Section -->
    <main>
        <h2>Patient Registration Form</h2>
        <form id="patientForm" action="thankyou.html" method="post" onsubmit="return handleSubmit()">
            <table>
                <tr>
                    <td><label for="fname">First Name:</label></td>
                    <td><input type="text" id="fname" name="fname" maxlength="30" required pattern="[a-zA-Z'-]+" title="First name should only contain letters, apostrophes, and dashes."></td>
                    <td><label for="mname">MI:</label></td>
                    <td><input type="text" id="mname" name="mname" maxlength="1" pattern="[a-zA-Z]?" title="Middle Initial should be a single letter."></td>
                    <td><label for="lname">Last Name:</label></td>
                    <td><input type="text" id="lname" name="lname" maxlength="30" required pattern="[a-zA-Z0-9'-]+" title="Last name can include letters, numbers (e.g., 3rd), apostrophes, and dashes."></td>
                </tr>
                <tr>
                    <td><label for="dob">Date of Birth:</label></td>
                    <td><input type="date" id="dob" name="dob" required title="Enter a valid date of birth."></td>
                </tr>
                <tr>
                    <td><label for="ssn">Social Security:</label></td>
                    <td><input type="password" id="ssn" name="ssn" maxlength="11" required title="Enter a valid SSN in the format 123-45-6789." placeholder="123-45-6789" oninput="formatSSN()"></td>
                </tr>
                <tr>
                    <td><label for="addr1">Address Line 1:</label></td>
                    <td><input type="text" id="addr1" name="addr1" maxlength="30" required></td>
                </tr>
                <tr>
                    <td><label for="addr2">Address Line 2:</label></td>
                    <td><input type="text" id="addr2" name="addr2" maxlength="30"></td>
                </tr>
                <tr>
                    <td><label for="city">City:</label></td>
                    <td><input type="text" id="city" name="city" maxlength="30" required></td>
                    <td><label for="state">State:</label></td>
                    <td>
                        <!-- States options selections -->
                        <select id="state" name="state" required>
                            <option value="">Select a state</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">District of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="PR">Puerto Rico</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </td>
                    <td><label for="zipcode">Zip Code:</label></td>
                    <td><input type="text" id="zipcode" name="zipcode" pattern="\d{5}(-\d{4})?" required title="Enter a valid ZIP code (5 digits or ZIP+4)."></td>
                </tr>
                <tr>
                    <td><label for="email">Email:</label></td>
                    <td><input type="email" id="email" name="email" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" title="Enter a valid email address (e.g., name@domain.com)."></td>
                    <td><label for="phone">Phone:</label></td>
                    <td><input type="tel" id="phone" name="phone" pattern="\d{3}-\d{3}-\d{4}" required title="Enter a valid phone number in the format 123-456-7890."></td>
                </tr>
                </tr>
                <tr>
                    <td colspan="6">
                        <label for="symptoms">Describe your symptoms:</label><br>
                        <textarea id="symptoms" name="symptoms" rows="3" cols="50"></textarea>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <p>Check all of the following that apply:</p>
                        <input type="checkbox" id="chickenpox" name="illnesses" value="Chicken Pox">
                        <label for="chickenpox">Chicken Pox</label>
                        <input type="checkbox" id="measles" name="illnesses" value="Measles">
                        <label for="measles">Measles</label>
                        <input type="checkbox" id="covid" name="illnesses" value="Covid-19">
                        <label for="covid">Covid-19</label>
                        <input type="checkbox" id="smallpox" name="illnesses" value="Small Pox">
                        <label for="smallpox">Small Pox</label>
                        <input type="checkbox" id="mumps" name="illnesses" value="Mumps">
                        <label for="tetanus">Mumps</label>
                        <input type="checkbox" id="tetanus" name="illnesses" value="Tetanus">
                        <label for="tetanus">Tetanus</label>
                        <input type="checkbox" id="heartDisease" name="illnesses" value="Heart Diesease">
                        <label for="tetanus">Heart Diesease</label>
                        <input type="checkbox" id="diabetic" name="illnesses" value="Diabetic">
                        <label for="tetanus">Diabetic</label>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <p>Gender:</p>
                        <input type="radio" id="male" name="gender" value="Male" required>
                        <label for="male">Male</label>
                        <input type="radio" id="female" name="gender" value="Female" required>
                        <label for="female">Female</label>
                        <input type="radio" id="other" name="gender" value="Other" required>
                        <label for="other">Other</label>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <p>Have you been vaccinated?</p>
                        <input type="radio" id="vaccine-yes" name="vaccinated" value="Yes" required>
                        <label for="vaccine-yes">Yes</label>
                        <input type="radio" id="vaccine-no" name="vaccinated" value="No" required>
                        <label for="vaccine-no">No</label>
                    </td>
                </tr>
                <tr>
                    <td colspan="6">
                        <p>Do you have insurance?</p>
                        <input type="radio" id="insurance-yes" name="insurance" value="Yes" required>
                        <label for="insurance-yes">Yes</label>
                        <input type="radio" id="insurance-no" name="insurance" value="No" required>
                        <label for="insurance-no">No</label>
                    </td>
                </tr>
                <tr>
                    <td colspan="3">
                        <label for="health"><strong>On a scale of 1 to 10, how is your health?</strong></label></td>
    <td>
        <input type="range" id="health" name="health" min="1" max="10" value="5" oninput="updateHealthValue()">
        <span id="healthValue">5</span>
    </td>
                    </td>
                </tr>
                <tr>
                    <td><label for="username">Desired User ID:</label></td>
                    <td><input type="text" id="username" name="username" pattern="[a-zA-Z][a-zA-Z0-9_-]{4,19}" required title="User ID must be 5-20 characters, starting with a letter, and may contain underscores or dashes."></td>
                </tr>
                <tr>
                    <td><label for="password">Password:</label></td>
                    <td>
                        <input type="password" id="password" name="password" maxlength="30" required 
                               title="Password must be 8-30 characters long, contain at least one uppercase letter, one number, and one special character."
                               pattern="(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,30}">
                    </td>
                    <td><label for="repassword">Re-enter Password:</label></td>
                    <td>
                        <input type="password" id="repassword" name="repassword" maxlength="30" required 
                               title="Please re-enter your password.">
                    </td>
                </tr>
            </table>
            <!--Submit and clear section-->
            <button type="reset">Clear and Start Over</button>
            <button type="submit">Submit</button>
            <button type="button" onclick="handleReview()">Validate</button>
        </form>
        
          <!-- Recommended Health Resources -->
        <section>
            <h2>Recommended Health Resources</h2>
            <iframe 
                src="https://www.webmd.com" 
                width="100%" 
                height="400" 
                style="border: 1px solid #ccc; border-radius: 8px;" 
                title="Health Resources"></iframe>
        </section>

        
            <!-- Review Section -->
            <div id="reviewSection" style="display:none; margin-top: 20px; border: 1px solid #ccc; padding: 15px;">
                <h3 style="text-align:center; font-size: 1.5em;">PLEASE REVIEW THIS INFORMATION</h3>
    
                <table style="width: 100%; border-collapse: collapse;">
                    <!-- Name and Date of Birth -->
                    <tr>
                        <td><strong>First, MI, Last Name:</strong></td>
                        <td><span id="reviewFullName"></span></td>
                        <td><span id="reviewFullNameStatus"></span></td> <!-- Single consolidated status -->
                    </tr>
                     <!-- SSN Review -->
                <tr>
                    <td><strong>SSN:</strong></td>
                    <td><span id="reviewSSN"></span></td>
                    <td><span id="reviewSSNStatus"></span></td>
                </tr>
                    <tr>
                        <td><strong>Date of Birth:</strong></td>
                        <td><span id="reviewDob"></span></td>
                        <td><span id="reviewDobStatus"></span></td>
                    </tr>

                    <!-- Email and Phone -->
                    <tr>
                        <td><strong>Email address:</strong></td>
                        <td><span id="reviewEmail"></span></td>
                        <td><span id="reviewEmailStatus"></span></td>
                    </tr>
                    <tr>
                        <td><strong>Phone number:</strong></td>
                        <td><span id="reviewPhone"></span></td>
                        <td><span id="reviewPhoneStatus"></span></td>
                    </tr>

                    <!-- Address -->
                    <tr>
                        <td><strong>Address:</strong></td>
                        <td><span id="reviewAddressLine1"></span>, <span id="reviewAddressLine2"></span></td>
                        <td><span id="reviewAddressStatus"></span></td>
                    </tr>
                    <tr>
                        <td><strong>City, State, Zip:</strong></td>
                        <td><span id="reviewCityStateZip"></span></td>
                        <td></td>
                    </tr>
                     <!-- Gender -->
                    <tr>
                        <td><strong>Gender:</strong></td>
                        <td><span id="reviewGender"></span></td>
                        <td></td>
                    </tr>

                    <!-- Requested Info Section -->
                    <tr>
                        <td><strong>Chicken Pox:</strong></td>
                        <td><span id="reviewChickenPox"></span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Vaccinated:</strong></td>
                        <td><span id="reviewVaccinated"></span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Measles:</strong></td>
                        <td><span id="reviewMeasles"></span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Mumps:</strong></td>
                        <td><span id="reviewMumps"></span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Heart Disease:</strong></td>
                        <td><span id="reviewHeartDisease"></span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Diabetic:</strong></td>
                        <td><span id="reviewDiabetic"></span></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><strong>Covid-19:</strong></td>
                        <td><span id="reviewCovid19"></span></td>
                        <td></td>
                    </tr>

                    <!-- Symptoms -->
                    <tr>
                        <td><strong>Described Symptoms:</strong></td>
                        <td><span id="reviewSymptoms"></span></td>
                        <td></td>
                    </tr>

                    <!-- User ID and Password -->
                    <tr>
                        <td><strong>User ID:</strong></td>
                        <td><span id="reviewUserID"></span></td>
                        <td><span id="reviewUserIDStatus"></span></td> 
                    </tr>
                    <tr>
                        <td><strong>Password:</strong></td>
                        <td><span id="reviewPassword"></span></td> 
                        <td><span id="reviewPasswordStatus"></span></td> 
                    </tr>
                </table>
            </div>
            
    </main>

    <!-- Footer Section with iFrame -->
    <div style="width: 100%; height: 120px; border-top: 1px solid #ccc; box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);">
        <iframe 
            src="footer.html" 
            width="100%" 
            height="100%" 
            style="border: none;" 
            title="Footer Content"></iframe>
    </div>
</body>

</html>
